{
    "properties": {
        "displayName": "Storage Account Firewalls and Virtual Networks Initiative",
        "description": "This policy initiative resitrcts public facing storage accounts, and restrict non-whitelisted IP ranges from being added to the storage account firewall rules.",
        "parameters": {
            "allowedAddressRanges": {
				"value": "[parameters('allowedAddressRanges')]"
			}
        },
        "policyDefinitions": [
            {
                "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/restrict-public-storageAccounts"
            },
            {
                "policyDefinitionId": "/providers/Microsoft.Authorization/policyDefinitions/restrict-public-storageAccount-firewall-rules",
                "parameters": {
                    "allowedAddressRanges": {
                        "value": "[parameters('allowedAddressRanges')]"
                    }
                }
            }
        ]
    },
    "type": "Microsoft.Authorization/policySetDefinitions",
    "name": "storageAccount-firewall-and-virtualNetworks"
}